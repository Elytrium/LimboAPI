plugins {
    id "java"
    id "checkstyle"
}

apply plugin: "org.cadixdev.licenser"
apply from: "../gradle/checkstyle.gradle"
apply plugin: "com.github.johnrengelman.shadow"

license {
    matching(includes: ["**/mcprotocollib/**"]) {
        header = project.rootProject.file("HEADER_MCPROTOCOLLIB.txt")
    }
    matching(includes: ["**/LoginListener.java", "**/LoginTasksQueue.java"]) {
        header = project.rootProject.file("HEADER_MIXED.txt")
    }

    header = project.rootProject.file("HEADER.txt")
}

dependencies {
    implementation project(":limboapi-api")

    compileOnly files("../libs/3.1.0.jar")

    implementation "org.bstats:bstats-velocity:2.2.1"
    annotationProcessor "com.velocitypowered:velocity-api:3.1.0-SNAPSHOT"

    compileOnly "com.github.spotbugs:spotbugs-annotations:4.4.2"
}

shadowJar {
    relocate "org.bstats", "net.elytrium.limboapi.bstats"
}

// TODO: Replace non shaded jar by shaded
artifacts {
    archives shadowJar
}
